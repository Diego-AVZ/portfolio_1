import { AbiCoder } from "ethers";


const functionSelector = "0x88bd413e";
const paramTypes = [3,1,0];
const params = [true,9999,"0x43D218197E8c5FBC0527769821503660861c7045"];

function buildData(){
    const abiCoder = new AbiCoder();
    let encodedTypes = "";
    let encodedParams = "0x";
    let data = [];
    data.push(functionSelector);
    encodedTypes = abiCoder.encode(["uint256[]"], [paramTypes]);
    for(let i = 0; i < params.length; i++){
        if(paramTypes[i] == 0){
            encodedParams += abiCoder.encode(["address"], [params[i]]).slice(2);
        } else if(paramTypes[i] == 1){
            encodedParams += abiCoder.encode(["uint256"], [params[i]]).slice(2);
        } else if(paramTypes[i] == 2){
            encodedParams += abiCoder.encode(["int256"], [params[i]]).slice(2);
        } else if(paramTypes[i] == 3){
            encodedParams += abiCoder.encode(["bool"], [params[i]]).slice(2);
        }
    }
    data.push(encodedTypes);
    data.push(encodedParams);
    console.log(data.length);
    console.log(data);
}

buildData();

/*
["0x88bd413e","0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000","000000000000000000000000000000000000000000000000000000000000007b0000000000000000000000001234567890abcdef1234567890abcdef12345678"]
    
    const paramTypes = [1,0,3,1];
    const params = [987,"0x1234567890abcdef1234567890abcdef12345678",true,357];
["0x88bd413e","0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000001","0x00000000000000000000000000000000000000000000000000000000000003db0000000000000000000000001234567890abcdef1234567890abcdef123456780000000000000000000000000000000000000000000000000000000000000165"]

["0x88bd413e","0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001","0x00000000000000000000000000000000000000000000000000000000000003db0000000000000000000000001234567890abcdef1234567890abcdef123456780000000000000000000000000000000000000000000000000000000000000165"]


["0x88bd413e","0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000270f00000000000000000000000043d218197e8c5fbc0527769821503660861c7045"]
  
["0x88bd413e","0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003","0x"]
*/